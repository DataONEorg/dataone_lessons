<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>{{ page.title }}</title>
   <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/resources/tags_index.css" />
   <link rel="shortcut icon" href="https://dataone.org/sites/all/images/favicon.ico" type="image/vnd.microsoft.icon" />


  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', '{{ site.analytics_code }}', 'auto');
  ga('send', 'pageview');

</script>


  <style>
  	section img.mainimage { 
  		float: left; 
  		border:1px solid #888; 
  		padding:5px; 
  		margin:0px 20px 20px 0px; 
  	}
  	body {
  		padding:0px; margin:0px; 
  		font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  	}
  	section {
  		clear:both; 
  	}
  	section h1 {
  		font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  		color: #660032; 
  	}
  	article, footer {
  		margin:30px; 
  	}
  	header {
  		border-bottom: 20px solid #660032; 
  		background-color:#fff; 
  	}
  	header img.pagelogo {
  		padding: 15px 0px 0px 15px; 
  	}
  	footer {
  		font-size: .8em; 
  	}
  	
  	h2 {
		font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;  	
    margin-top: 1em;
    margin-bottom: 4px; 
    font-style: normal;
    font-style: normal;
    font-size: 125%;
    color: #660033;
    font-weight: 600;
    margin-left:60px; 
  	}


a.upcoming-webinar-boxes {
    padding: .25em 2em .25em 2em;
    margin-right: 2em;
    margin-top: .5em;
    width: 20%;
    clear: none;
    display: inline-block;
}
a.upcoming-webinar-boxes {
    border: solid thin #660033;
    padding: 1em 2em 1em 2em;
    margin-left: auto;
    margin-right: auto;
    margin-top: 1em;
    font-weight: 600;
    font-size: 90%;
    width: 80%;
    text-transform: uppercase;
    clear: right;
    display: block;
    text-align: center;
    }
/*
a, a:link, a:visited {
    color: #cabbac;
    z-index: 1;
    text-decoration: none;
    word-wrap: normal;
     }   
*/
a.filterbutton {
    padding: .25em 2em .25em 2em;
    margin-right: 2em;
    margin-top: .5em;
    margin-left: 10px;
    clear: none;
    display: inline-block;
	color:#660033; 
    border: solid thin #660033;
    font-weight: 600;
    font-size: 90%;
    text-transform: uppercase;
    text-align:center;

}
a.filterbutton:hover {
  background-color:#660033;
  color:#fff; 
}
a.programs-filter-btn-active {
  background-color:#660033;
  color:#fff; 
}

  </style>

</head>

<body>

  <header role='banner'>
    <a href='https://www.dataone.org/'><img class=pagelogo alt='DataONE.org' src='{{ site.baseurl }}/img/logo.jpg' style='max-height:24px'/></a></p>
  </header>

{% comment %}
The following part extracts all the tags from the lessons
{% endcomment %}
{% assign rawtags = "" %}
{% assign rawcats = "" %}
{% for lesson in site.lessons %}
	{% assign ttags = lesson.tags | join:'|' | append:'|' %}
	{% assign rawtags = rawtags | append:ttags %}
	{% assign ccats = lesson.categories | join:'|' | append:'|' %}
	{% assign rawcats = rawcats | append:ccats %}
{% endfor %}
{% assign rawtags = rawtags | split:'|' | sort %}
{% assign rawcats = rawcats | split:'|' | sort %}

{% comment %}
Removes duplicated tags
{% endcomment %}
{% assign tags = "" %}
{% for tag in rawtags %}
	{% if tag != "" %}
		{% if tags == "" %}
			{% assign tags = tag | split:'|' %}
		{% endif %}
		{% unless tags contains tag %}
			{% assign tags = tags | join:'|' | append:'|' | append:tag | split:'|' %}
		{% endunless %}
	{% endif %}
{% endfor %}
{% assign cats = "" %}
{% for cat in rawcats %}
	{% if cat != "" %}
		{% if cats == "" %}
			{% assign cats = cat | split:'|' %}
		{% endif %}
		{% unless cats contains cat %}
			{% assign cats = cats | join:'|' | append:'|' | append:cat | split:'|' %}
		{% endunless %}
	{% endif %}
{% endfor %}

<div class="wrap">
  <div class="container">


    <div class="row">
      <div class="twelve columns">
        <h2>Programs List</h2>
      </div>
      
    </div>

    <!--div class="row">
      <div class="twelve columns">
        <div class="programs">
          <button class="filter-btn" data-filter="all">All</button>
          {% for cat in cats %}
          <button class="filter-btn" data-filter=".{{ cat | downcase | replace: ' ','_' }}">{{ cat }}</button>
          {% endfor %}
        </div>
      </div>
    </div-->

    <div class="row">
      <div class="twelve columns">
        <div style="margin-left:60px;">
          Filter categories: 
          <a href="#" class="filterbutton" data-filter="all">All</a>
          {% for cat in cats %}
          <a href="#" class="filterbutton" data-filter=".{{ cat | downcase | replace: ' ','_' }}">{{ cat }}</a>
          {% endfor %}
        </div>
      </div>
    </div>

    <div class="row">
      <div class="twelve columns">
        <ul class="courses" id="mix-wrapper">
          {% for lesson in site.lessons %}
            {% assign ldeck = lesson.url | split: '/' %}
            {% if ldeck.last == 'index.html' %}
              {% assign ldeck = ldeck[2] %}
              {% assign catclasses = "" %}
              {% for cat in lesson.categories %}
                {% assign cleancat = cat | downcase | replace: ' ', '_' %}
                {% assign catclasses = catclasses | append: ' ' | append: cleancat %}
              {% endfor %}
              <li class="mix-target {{ catclasses }}" 
                  data-order="{{ ldeck }}" 
                  data-year="4">
                  <a href="{{ site.baseurl }}/lessons/{{ ldeck }}/cover.html"><img src="{{ site.baseurl }}/lessons/{{ ldeck }}/Cover.png"></a></li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
    </div><!-- end of row -->   
  </div><!-- end of container -->
</div><!-- end of wrap -->

  <script src="{{ site.baseurl }}/resources/lib/mixitup.3.1.9.min.js">
  </script>

  <script>
    mixitup('#mix-wrapper', {
      load: {
        sort: 'order:asc' /* default:asc */
      },
      animation: {
        effects: 'fade', /* fade scale */
        duration: 700 /* 600 */
      },
      classNames: {
        block: 'programs', /* mixitup */
        elementFilter: 'filter-btn', /* control */
        elementSort: 'sort-btn' /* control */
      },
      selectors: {
        target: '.mix-target' /* .mix */
      }
    });    
  </script>

</body>
</html>
